# Three Things

A calm, intentional browser extension that helps you build a daily habit of gratitude by capturing three things you appreciated from the previous day. All data stays local—no accounts, no cloud sync, no tracking.

**Design ethos:** Minimal. Human. Supportive. No guilt. No noise.

---

## Current Status

**Phase 1 ✅ Complete**

- Core capture MVP with local storage
- Two-view interface: Capture & Confirmation
- Data persists across browser sessions
- Edit existing entries
- Clean, minimal UI

See [Specs/PRODUCT_SPEC.md](Specs/PRODUCT_SPEC.md) for the full product roadmap (Phases 1–8).

---

## Getting Started

### Prerequisites

- **Node.js** v18+ (download from [nodejs.org](https://nodejs.org))
- **pnpm** (installed via `npm install -g pnpm`)
- Chrome or Edge browser

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/shannonbanks/ThreeThings.git
   cd ThreeThings
   ```

2. **Install dependencies**
   ```bash
   cd ext
   pnpm install
   ```

### Development

Start the development server with hot reload:

```bash
pnpm dev
```

Plasmo watches your files and rebuilds the extension automatically. A dev popup will appear.

### Production Build

Build the extension for distribution:

```bash
pnpm build
```

Output goes to `build/chrome-mv3-prod/` (ready to load into Edge/Chrome).

---

## Loading the Extension

### Chrome

1. Open `chrome://extensions`
2. Enable **Developer mode** (top-right toggle)
3. Click **Load unpacked**
4. Navigate to `ext/build/chrome-mv3-prod/`
5. The extension is now installed

### Edge

1. Open `edge://extensions`
2. Enable **Developer mode** (left sidebar toggle)
3. Click **Load unpacked**
4. Navigate to `ext/build/chrome-mv3-prod/`
5. The extension is now installed

---

## How It Works

### Phase 1 Flow

**First time opening:**
- Extension shows the **Capture View**
- Title: "Three things I appreciated yesterday"
- Three input fields
- Click "Save" to store entries

**After saving:**
- Extension shows the **Confirmation View**
- Displays your three saved items
- Click "Edit" to go back and modify
- Click "Close" to exit

**On next open:**
- Extension automatically shows **Confirmation View** (entry already exists)
- Edit any time by clicking "Edit"

### Data Storage

- Entries stored in `chrome.storage.local`
- One entry per calendar date (YYYY-MM-DD)
- Metadata: `createdAt`, `updatedAt` timestamps
- **Local only** — no cloud sync, no external requests

---

## Project Structure

```
ext/
├── components/
│   ├── CaptureView.tsx          # Input form, 3 fields
│   └── ConfirmationView.tsx     # Read-only display, edit/close
├── lib/
│   ├── dateUtils.ts             # Date key generation
│   └── storage.ts               # chrome.storage.local abstraction
├── styles/
│   ├── CaptureView.module.css
│   ├── ConfirmationView.module.css
│   └── Popup.module.css
├── popup.tsx                    # Main router (orchestrates views)
├── package.json
├── tsconfig.json
└── manifest.ts                  # Auto-generated by Plasmo

Specs/
└── PRODUCT_SPEC.md              # Full roadmap: Phases 1–8
```

---

## Tech Stack

- **Plasmo** — Browser extension framework (handles MV3 manifest, bundling, HMR)
- **React 18** — UI components
- **TypeScript** — Type safety
- **CSS Modules** — Scoped styling
- **pnpm** — Fast, space-efficient package manager

---

## Browser Support

- **Chrome 88+** (Manifest V3)
- **Edge 88+** (Manifest V3)
- **Brave, Vivaldi** (compatible, not tested)

---

## Roadmap

| Phase | Feature | Status |
|-------|---------|--------|
| 1 | Core capture + confirmation | ✅ Done |
| 2 | Daily state awareness | ⏳ Planned |
| 3 | Remind me later (notifications) | ⏳ Planned |
| 4 | Voice input (speech-to-text) | ⏳ Planned |
| 5 | Journal view (history) | ⏳ Planned |
| 6 | Photo attachment | ⏳ Planned |
| 7 | PDF export | ⏳ Planned |
| 8 | Settings & polish | ⏳ Planned |

See [Specs/PRODUCT_SPEC.md](Specs/PRODUCT_SPEC.md) for detailed phase descriptions.

---

## Troubleshooting

### Error: "Cannot read properties of undefined (reading 'local')"

**Solution:** The manifest is missing the `storage` permission.

1. Verify `ext/package.json` includes:
   ```json
   "manifest": {
     "permissions": ["storage"],
     ...
   }
   ```

2. Rebuild:
   ```bash
   pnpm build
   ```

3. Reload the extension in your browser's extension settings.

### Extension not loading after rebuild

1. Go to `chrome://extensions` or `edge://extensions`
2. Find "With popup" (or your extension name)
3. Click the **reload** icon (circular arrow)

### Missing dependencies

```bash
cd ext
pnpm install
```

---

## Contributing

This is a personal project. Feel free to fork and customize for your own use!

---

## License

MIT

---

## Inspiration

Built with the belief that gratitude is a practice, not a feeling—and that the smallest, calmest tools often create the biggest habits.
